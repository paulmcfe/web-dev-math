<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listing 3.12</title>
    <style>
        :root {
            --base-size: 1rem;
            --scale-ratio: 1.25; /* Initial ratio */
        }
        body {
            font-family: system-ui, sans-serif;
            padding: 2rem;
            background: ghostwhite;
            color: #333;
        }
        .scale {
            font-size: calc(var(--base-size) * pow(var(--scale-ratio), var(--step)));
            margin: 0 0 1rem;
        }
        .step-3 { --step: 3; }
        .step-2 { --step: 2; }
        .step-1 { --step: 1; }
        .step-0 { --step: 0; }
        .step--1 { --step: -1; }
        .step--2 { --step: -2; }

        .slider-container {
            margin-top: 3rem;
        }
        input[type="range"] {
            width: 100%;
            margin-top: 1rem;
        }
        .label {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>

    <h1 class="scale step-3">Heading (Step 3)</h1>
    <h2 class="scale step-2">Subheading (Step 2)</h2>
    <h3 class="scale step-1">Section title (Step 1)</h3>
    <p class="scale step-0">Body text (Step 0)</p>
    <p class="scale step--1">Small caption (Step -1)</p>
    <p class="scale step--2">Footnote (Step -2)</p>

    <div class="slider-container">
        <div class="label">
            Scale Ratio: <span id="scaleValue">1.25</span>
        </div>
        <input type="range" id="scaleSlider" min="1.0" max="2.0" step="0.01" value="1.25">
    </div>

    <script>
        const slider = document.getElementById('scaleSlider');
        const display = document.getElementById('scaleValue');
        const root = document.documentElement;

        slider.addEventListener('input', () => {
            const value = parseFloat(slider.value).toFixed(2);
            root.style.setProperty('--scale-ratio', value);
            display.textContent = value;
        });
    </script>

</body>
</html>
