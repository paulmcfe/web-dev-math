<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listing 12.3 - Animating a ball with different easing functions</title>
    <style>
        body {
            font-family: Arial;
            padding: 50px;
        }

        .controls {
            margin-bottom: 20px;
            position: fixed;
            top: 120px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        select,
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin-right: 10px;
        }

        #title {
            position: fixed;
            left: -400px;
            top: 30px;
            font-family: Rockwell, 'Rockwell Nova', 'Roboto Slab', 'DejaVu Serif', 'Sitka Small', serif;
            font-size: 3rem;
            font-weight: bold;
            color: #333;
            margin: 0;
            white-space: nowrap;
        }
    </style>
</head>

<body>
    <div class="controls">
        <select id="easingSelect">
            <option value="linear">linear</option>
            <option value="easeInQuad">easeInQuad</option>
            <option value="easeOutQuad">easeOutQuad</option>
            <option value="easeInOutQuad">easeInOutQuad</option>
            <option value="easeInCubic">easeInCubic</option>
            <option value="easeOutCubic">easeOutCubic</option>
            <option value="easeInOutCubic">easeInOutCubic</option>
            <option value="easeInSine">easeInSine</option>
            <option value="easeOutSine">easeOutSine</option>
            <option value="easeInExpo">easeInExpo</option>
            <option value="easeOutExpo">easeOutExpo</option>
            <option value="easeInCirc">easeInCirc</option>
            <option value="easeOutCirc">easeOutCirc</option>
        </select>
        <button onclick="startAnimation()">Start</button>
        <button onclick="resetTitle()">Reset</button>
    </div>

    <h1 id="title">Lerpapalooza!</h1>

    <script>
        let isAnimating = false;

        function lerp(start, end, progress) {
            return start + (end - start) * progress;
        }

        // Linear easing (no change to progress)
        function linear(t) {
            return t;
        }

        // Quadratic ease-in (t²)
        function easeInQuad(t) {
            return t * t;
        }

        // Quadratic ease-out (1 - (1-t)²)
        function easeOutQuad(t) {
            return 1 - (1 - t) * (1 - t);
        }

        // Quadratic ease-in-out
        function easeInOutQuad(t) {
            return t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2;
        }

        // Cubic ease-in (t³)
        function easeInCubic(t) {
            return t * t * t;
        }

        // Cubic ease-out (1 - (1-t)³)
        function easeOutCubic(t) {
            return 1 - Math.pow(1 - t, 3);
        }

        // Cubic ease-in-out
        function easeInOutCubic(t) {
            return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
        }

        // Sine wave easing
        function easeInSine(t) {
            return 1 - Math.cos(t * Math.PI / 2);
        }

        function easeOutSine(t) {
            return Math.sin(t * Math.PI / 2);
        }

        // Exponential easing  
        function easeInExpo(t) {
            return t === 0 ? 0 : Math.pow(2, 10 * (t - 1));
        }

        function easeOutExpo(t) {
            return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);
        }

        // Circular easing
        function easeInCirc(t) {
            return 1 - Math.sqrt(1 - t * t);
        }

        function easeOutCirc(t) {
            return Math.sqrt(1 - Math.pow(t - 1, 2));
        }

        function startAnimation() {
            const select = document.getElementById('easingSelect');
            const selectedFunction = select.value;

            // Get the actual function by name
            const easingFunction = window[selectedFunction];

            animateTitle(easingFunction);
        }

        function resetTitle() {
            isAnimating = false;
            let title = document.getElementById('title');
            title.style.left = '-400px';
        }

        function animateTitle(easingFunc) {
            if (isAnimating) return;
            isAnimating = true;

            let title = document.getElementById('title');
            let start = -400;
            let end = (window.innerWidth / 2) - (title.offsetWidth / 2);
            let duration = 1000;
            let startTime = Date.now();

            // Reset title position
            title.style.left = start + 'px';

            function animate() {
                let elapsed = Date.now() - startTime;
                let progress = elapsed / duration;

                if (progress >= 1) {
                    title.style.left = end + 'px';
                    isAnimating = false;
                    return;
                }

                const eased = easingFunc(progress);
                let currentLeft = lerp(start, end, eased);
                title.style.left = currentLeft + 'px';

                requestAnimationFrame(animate);
            }

            animate();
        }
    </script>
</body>

</html>